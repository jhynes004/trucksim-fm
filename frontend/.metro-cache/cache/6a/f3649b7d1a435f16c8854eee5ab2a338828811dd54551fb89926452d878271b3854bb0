{"dependencies":[{"name":"react-native-track-player","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":5,"column":35,"index":114}}],"key":"pCRZND9mpOvJDX150HAYTNxlSZw=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"setupPlayer\", {\n    enumerable: true,\n    get: function () {\n      return setupPlayer;\n    }\n  });\n  Object.defineProperty(exports, \"addStreamTrack\", {\n    enumerable: true,\n    get: function () {\n      return addStreamTrack;\n    }\n  });\n  Object.defineProperty(exports, \"updateNowPlaying\", {\n    enumerable: true,\n    get: function () {\n      return updateNowPlaying;\n    }\n  });\n  Object.defineProperty(exports, \"playStream\", {\n    enumerable: true,\n    get: function () {\n      return playStream;\n    }\n  });\n  Object.defineProperty(exports, \"pauseStream\", {\n    enumerable: true,\n    get: function () {\n      return pauseStream;\n    }\n  });\n  Object.defineProperty(exports, \"stopStream\", {\n    enumerable: true,\n    get: function () {\n      return stopStream;\n    }\n  });\n  Object.defineProperty(exports, \"isPlaying\", {\n    enumerable: true,\n    get: function () {\n      return isPlaying;\n    }\n  });\n  var _reactNativeTrackPlayer = require(_dependencyMap[0], \"react-native-track-player\");\n  var TrackPlayer = _interopDefault(_reactNativeTrackPlayer);\n  const STREAM_URL = 'https://radio.trucksim.fm:8000/radio.mp3';\n  const setupPlayer = async () => {\n    let isSetup = false;\n    try {\n      // Check if player is already initialized\n      await TrackPlayer.default.getActiveTrack();\n      isSetup = true;\n    } catch {\n      // Player not initialized, set it up\n      try {\n        await TrackPlayer.default.setupPlayer({\n          autoHandleInterruptions: true,\n          // Keep playing when app loses focus\n          waitForBuffer: true\n        });\n        await TrackPlayer.default.updateOptions({\n          android: {\n            // Continue playback even when the app is killed\n            appKilledPlaybackBehavior: _reactNativeTrackPlayer.AppKilledPlaybackBehavior.ContinuePlayback,\n            // Don't pause when app goes to background\n            stoppingAppPausesPlayback: false\n          },\n          // What controls to show in notification/lock screen\n          capabilities: [_reactNativeTrackPlayer.Capability.Play, _reactNativeTrackPlayer.Capability.Pause, _reactNativeTrackPlayer.Capability.Stop],\n          // Compact notification capabilities\n          compactCapabilities: [_reactNativeTrackPlayer.Capability.Play, _reactNativeTrackPlayer.Capability.Pause],\n          // Notification capabilities\n          notificationCapabilities: [_reactNativeTrackPlayer.Capability.Play, _reactNativeTrackPlayer.Capability.Pause, _reactNativeTrackPlayer.Capability.Stop],\n          progressUpdateEventInterval: 10\n        });\n        isSetup = true;\n        console.log('[TrackPlayer] Setup complete with background playback enabled');\n      } catch (error) {\n        console.error('[TrackPlayer] Setup error:', error);\n        isSetup = false;\n      }\n    }\n    return isSetup;\n  };\n  const addStreamTrack = async (title, artist, artwork) => {\n    // Clear any existing tracks\n    await TrackPlayer.default.reset();\n\n    // Add the live stream\n    await TrackPlayer.default.add({\n      id: 'trucksimfm-live',\n      url: STREAM_URL,\n      title: title || 'TruckSimFM',\n      artist: artist || 'Live Radio',\n      artwork: artwork || 'https://trucksim.fm/uploads/TSFM_25_IMG_57adbe1a8b.png',\n      isLiveStream: true\n    });\n\n    // Set repeat mode for continuous playback\n    await TrackPlayer.default.setRepeatMode(_reactNativeTrackPlayer.RepeatMode.Off);\n  };\n  const updateNowPlaying = async (title, artist, artwork) => {\n    try {\n      const trackIndex = await TrackPlayer.default.getActiveTrackIndex();\n      if (trackIndex !== null && trackIndex !== undefined) {\n        await TrackPlayer.default.updateMetadataForTrack(trackIndex, {\n          title: title || 'TruckSimFM',\n          artist: artist || 'Live Radio',\n          artwork: artwork || 'https://trucksim.fm/uploads/TSFM_25_IMG_57adbe1a8b.png'\n        });\n      }\n    } catch (error) {\n      console.error('[TrackPlayer] Error updating metadata:', error);\n    }\n  };\n  const playStream = async () => {\n    await TrackPlayer.default.play();\n  };\n  const pauseStream = async () => {\n    await TrackPlayer.default.pause();\n  };\n  const stopStream = async () => {\n    await TrackPlayer.default.stop();\n    await TrackPlayer.default.reset();\n  };\n  const isPlaying = async () => {\n    try {\n      const state = await TrackPlayer.default.getPlaybackState();\n      return state.state === 'playing';\n    } catch {\n      return false;\n    }\n  };\n});","lineCount":144,"map":[[12,2,9,0,"Object"],[12,8,9,0],[12,9,9,0,"defineProperty"],[12,23,9,0],[12,24,9,0,"exports"],[12,31,9,0],[13,4,9,0,"enumerable"],[13,14,9,0],[14,4,9,0,"get"],[14,7,9,0],[14,18,9,0,"get"],[14,19,9,0],[15,6,9,0],[15,13,9,0,"setupPlayer"],[15,24,9,0],[16,4,9,0],[17,2,9,0],[18,2,63,0,"Object"],[18,8,63,0],[18,9,63,0,"defineProperty"],[18,23,63,0],[18,24,63,0,"exports"],[18,31,63,0],[19,4,63,0,"enumerable"],[19,14,63,0],[20,4,63,0,"get"],[20,7,63,0],[20,18,63,0,"get"],[20,19,63,0],[21,6,63,0],[21,13,63,0,"addStreamTrack"],[21,27,63,0],[22,4,63,0],[23,2,63,0],[24,2,81,0,"Object"],[24,8,81,0],[24,9,81,0,"defineProperty"],[24,23,81,0],[24,24,81,0,"exports"],[24,31,81,0],[25,4,81,0,"enumerable"],[25,14,81,0],[26,4,81,0,"get"],[26,7,81,0],[26,18,81,0,"get"],[26,19,81,0],[27,6,81,0],[27,13,81,0,"updateNowPlaying"],[27,29,81,0],[28,4,81,0],[29,2,81,0],[30,2,96,0,"Object"],[30,8,96,0],[30,9,96,0,"defineProperty"],[30,23,96,0],[30,24,96,0,"exports"],[30,31,96,0],[31,4,96,0,"enumerable"],[31,14,96,0],[32,4,96,0,"get"],[32,7,96,0],[32,18,96,0,"get"],[32,19,96,0],[33,6,96,0],[33,13,96,0,"playStream"],[33,23,96,0],[34,4,96,0],[35,2,96,0],[36,2,100,0,"Object"],[36,8,100,0],[36,9,100,0,"defineProperty"],[36,23,100,0],[36,24,100,0,"exports"],[36,31,100,0],[37,4,100,0,"enumerable"],[37,14,100,0],[38,4,100,0,"get"],[38,7,100,0],[38,18,100,0,"get"],[38,19,100,0],[39,6,100,0],[39,13,100,0,"pauseStream"],[39,24,100,0],[40,4,100,0],[41,2,100,0],[42,2,104,0,"Object"],[42,8,104,0],[42,9,104,0,"defineProperty"],[42,23,104,0],[42,24,104,0,"exports"],[42,31,104,0],[43,4,104,0,"enumerable"],[43,14,104,0],[44,4,104,0,"get"],[44,7,104,0],[44,18,104,0,"get"],[44,19,104,0],[45,6,104,0],[45,13,104,0,"stopStream"],[45,23,104,0],[46,4,104,0],[47,2,104,0],[48,2,109,0,"Object"],[48,8,109,0],[48,9,109,0,"defineProperty"],[48,23,109,0],[48,24,109,0,"exports"],[48,31,109,0],[49,4,109,0,"enumerable"],[49,14,109,0],[50,4,109,0,"get"],[50,7,109,0],[50,18,109,0,"get"],[50,19,109,0],[51,6,109,0],[51,13,109,0,"isPlaying"],[51,22,109,0],[52,4,109,0],[53,2,109,0],[54,2,1,0],[54,6,1,0,"_reactNativeTrackPlayer"],[54,29,1,0],[54,32,1,0,"require"],[54,39,1,0],[54,40,1,0,"_dependencyMap"],[54,54,1,0],[55,2,1,0],[55,6,1,0,"TrackPlayer"],[55,17,1,0],[55,20,1,0,"_interopDefault"],[55,35,1,0],[55,36,1,0,"_reactNativeTrackPlayer"],[55,59,1,0],[56,2,7,0],[56,8,7,6,"STREAM_URL"],[56,18,7,16],[56,21,7,19],[56,63,7,61],[57,2,9,7],[57,8,9,13,"setupPlayer"],[57,19,9,24],[57,22,9,27],[57,28,9,27,"setupPlayer"],[57,29,9,27],[57,34,9,57],[58,4,10,2],[58,8,10,6,"isSetup"],[58,15,10,13],[58,18,10,16],[58,23,10,21],[59,4,12,2],[59,8,12,6],[60,6,13,4],[61,6,14,4],[61,12,14,10,"TrackPlayer"],[61,23,14,21],[61,24,14,21,"default"],[61,31,14,21],[61,32,14,22,"getActiveTrack"],[61,46,14,36],[61,47,14,37],[61,48,14,38],[62,6,15,4,"isSetup"],[62,13,15,11],[62,16,15,14],[62,20,15,18],[63,4,16,2],[63,5,16,3],[63,6,16,4],[63,12,16,10],[64,6,17,4],[65,6,18,4],[65,10,18,8],[66,8,19,6],[66,14,19,12,"TrackPlayer"],[66,25,19,23],[66,26,19,23,"default"],[66,33,19,23],[66,34,19,24,"setupPlayer"],[66,45,19,35],[66,46,19,36],[67,10,20,8,"autoHandleInterruptions"],[67,33,20,31],[67,35,20,33],[67,39,20,37],[68,10,21,8],[69,10,22,8,"waitForBuffer"],[69,23,22,21],[69,25,22,23],[70,8,23,6],[70,9,23,7],[70,10,23,8],[71,8,25,6],[71,14,25,12,"TrackPlayer"],[71,25,25,23],[71,26,25,23,"default"],[71,33,25,23],[71,34,25,24,"updateOptions"],[71,47,25,37],[71,48,25,38],[72,10,26,8,"android"],[72,17,26,15],[72,19,26,17],[73,12,27,10],[74,12,28,10,"appKilledPlaybackBehavior"],[74,37,28,35],[74,39,28,37,"AppKilledPlaybackBehavior"],[74,62,28,62],[74,63,28,62,"AppKilledPlaybackBehavior"],[74,88,28,62],[74,89,28,63,"ContinuePlayback"],[74,105,28,79],[75,12,29,10],[76,12,30,10,"stoppingAppPausesPlayback"],[76,37,30,35],[76,39,30,37],[77,10,31,8],[77,11,31,9],[78,10,32,8],[79,10,33,8,"capabilities"],[79,22,33,20],[79,24,33,22],[79,25,34,10,"Capability"],[79,48,34,20],[79,49,34,20,"Capability"],[79,59,34,20],[79,60,34,21,"Play"],[79,64,34,25],[79,66,35,10,"Capability"],[79,89,35,20],[79,90,35,20,"Capability"],[79,100,35,20],[79,101,35,21,"Pause"],[79,106,35,26],[79,108,36,10,"Capability"],[79,131,36,20],[79,132,36,20,"Capability"],[79,142,36,20],[79,143,36,21,"Stop"],[79,147,36,25],[79,148,37,9],[80,10,38,8],[81,10,39,8,"compactCapabilities"],[81,29,39,27],[81,31,39,29],[81,32,40,10,"Capability"],[81,55,40,20],[81,56,40,20,"Capability"],[81,66,40,20],[81,67,40,21,"Play"],[81,71,40,25],[81,73,41,10,"Capability"],[81,96,41,20],[81,97,41,20,"Capability"],[81,107,41,20],[81,108,41,21,"Pause"],[81,113,41,26],[81,114,42,9],[82,10,43,8],[83,10,44,8,"notificationCapabilities"],[83,34,44,32],[83,36,44,34],[83,37,45,10,"Capability"],[83,60,45,20],[83,61,45,20,"Capability"],[83,71,45,20],[83,72,45,21,"Play"],[83,76,45,25],[83,78,46,10,"Capability"],[83,101,46,20],[83,102,46,20,"Capability"],[83,112,46,20],[83,113,46,21,"Pause"],[83,118,46,26],[83,120,47,10,"Capability"],[83,143,47,20],[83,144,47,20,"Capability"],[83,154,47,20],[83,155,47,21,"Stop"],[83,159,47,25],[83,160,48,9],[84,10,49,8,"progressUpdateEventInterval"],[84,37,49,35],[84,39,49,37],[85,8,50,6],[85,9,50,7],[85,10,50,8],[86,8,52,6,"isSetup"],[86,15,52,13],[86,18,52,16],[86,22,52,20],[87,8,53,6,"console"],[87,15,53,13],[87,16,53,14,"log"],[87,19,53,17],[87,20,53,18],[87,83,53,81],[87,84,53,82],[88,6,54,4],[88,7,54,5],[88,8,54,6],[88,15,54,13,"error"],[88,20,54,18],[88,22,54,20],[89,8,55,6,"console"],[89,15,55,13],[89,16,55,14,"error"],[89,21,55,19],[89,22,55,20],[89,50,55,48],[89,52,55,50,"error"],[89,57,55,55],[89,58,55,56],[90,8,56,6,"isSetup"],[90,15,56,13],[90,18,56,16],[90,23,56,21],[91,6,57,4],[92,4,58,2],[93,4,60,2],[93,11,60,9,"isSetup"],[93,18,60,16],[94,2,61,0],[94,3,61,1],[95,2,63,7],[95,8,63,13,"addStreamTrack"],[95,22,63,27],[95,25,63,30],[95,31,63,30,"addStreamTrack"],[95,32,63,37,"title"],[95,37,63,50],[95,39,63,52,"artist"],[95,45,63,66],[95,47,63,68,"artwork"],[95,54,63,84],[95,59,63,89],[96,4,64,2],[97,4,65,2],[97,10,65,8,"TrackPlayer"],[97,21,65,19],[97,22,65,19,"default"],[97,29,65,19],[97,30,65,20,"reset"],[97,35,65,25],[97,36,65,26],[97,37,65,27],[99,4,67,2],[100,4,68,2],[100,10,68,8,"TrackPlayer"],[100,21,68,19],[100,22,68,19,"default"],[100,29,68,19],[100,30,68,20,"add"],[100,33,68,23],[100,34,68,24],[101,6,69,4,"id"],[101,8,69,6],[101,10,69,8],[101,27,69,25],[102,6,70,4,"url"],[102,9,70,7],[102,11,70,9,"STREAM_URL"],[102,21,70,19],[103,6,71,4,"title"],[103,11,71,9],[103,13,71,11,"title"],[103,18,71,16],[103,22,71,20],[103,34,71,32],[104,6,72,4,"artist"],[104,12,72,10],[104,14,72,12,"artist"],[104,20,72,18],[104,24,72,22],[104,36,72,34],[105,6,73,4,"artwork"],[105,13,73,11],[105,15,73,13,"artwork"],[105,22,73,20],[105,26,73,24],[105,82,73,80],[106,6,74,4,"isLiveStream"],[106,18,74,16],[106,20,74,18],[107,4,75,2],[107,5,75,3],[107,6,75,4],[109,4,77,2],[110,4,78,2],[110,10,78,8,"TrackPlayer"],[110,21,78,19],[110,22,78,19,"default"],[110,29,78,19],[110,30,78,20,"setRepeatMode"],[110,43,78,33],[110,44,78,34,"RepeatMode"],[110,67,78,44],[110,68,78,44,"RepeatMode"],[110,78,78,44],[110,79,78,45,"Off"],[110,82,78,48],[110,83,78,49],[111,2,79,0],[111,3,79,1],[112,2,81,7],[112,8,81,13,"updateNowPlaying"],[112,24,81,29],[112,27,81,32],[112,33,81,32,"updateNowPlaying"],[112,34,81,39,"title"],[112,39,81,52],[112,41,81,54,"artist"],[112,47,81,68],[112,49,81,70,"artwork"],[112,56,81,86],[112,61,81,91],[113,4,82,2],[113,8,82,6],[114,6,83,4],[114,12,83,10,"trackIndex"],[114,22,83,20],[114,25,83,23],[114,31,83,29,"TrackPlayer"],[114,42,83,40],[114,43,83,40,"default"],[114,50,83,40],[114,51,83,41,"getActiveTrackIndex"],[114,70,83,60],[114,71,83,61],[114,72,83,62],[115,6,84,4],[115,10,84,8,"trackIndex"],[115,20,84,18],[115,25,84,23],[115,29,84,27],[115,33,84,31,"trackIndex"],[115,43,84,41],[115,48,84,46,"undefined"],[115,57,84,55],[115,59,84,57],[116,8,85,6],[116,14,85,12,"TrackPlayer"],[116,25,85,23],[116,26,85,23,"default"],[116,33,85,23],[116,34,85,24,"updateMetadataForTrack"],[116,56,85,46],[116,57,85,47,"trackIndex"],[116,67,85,57],[116,69,85,59],[117,10,86,8,"title"],[117,15,86,13],[117,17,86,15,"title"],[117,22,86,20],[117,26,86,24],[117,38,86,36],[118,10,87,8,"artist"],[118,16,87,14],[118,18,87,16,"artist"],[118,24,87,22],[118,28,87,26],[118,40,87,38],[119,10,88,8,"artwork"],[119,17,88,15],[119,19,88,17,"artwork"],[119,26,88,24],[119,30,88,28],[120,8,89,6],[120,9,89,7],[120,10,89,8],[121,6,90,4],[122,4,91,2],[122,5,91,3],[122,6,91,4],[122,13,91,11,"error"],[122,18,91,16],[122,20,91,18],[123,6,92,4,"console"],[123,13,92,11],[123,14,92,12,"error"],[123,19,92,17],[123,20,92,18],[123,60,92,58],[123,62,92,60,"error"],[123,67,92,65],[123,68,92,66],[124,4,93,2],[125,2,94,0],[125,3,94,1],[126,2,96,7],[126,8,96,13,"playStream"],[126,18,96,23],[126,21,96,26],[126,27,96,26,"playStream"],[126,28,96,26],[126,33,96,38],[127,4,97,2],[127,10,97,8,"TrackPlayer"],[127,21,97,19],[127,22,97,19,"default"],[127,29,97,19],[127,30,97,20,"play"],[127,34,97,24],[127,35,97,25],[127,36,97,26],[128,2,98,0],[128,3,98,1],[129,2,100,7],[129,8,100,13,"pauseStream"],[129,19,100,24],[129,22,100,27],[129,28,100,27,"pauseStream"],[129,29,100,27],[129,34,100,39],[130,4,101,2],[130,10,101,8,"TrackPlayer"],[130,21,101,19],[130,22,101,19,"default"],[130,29,101,19],[130,30,101,20,"pause"],[130,35,101,25],[130,36,101,26],[130,37,101,27],[131,2,102,0],[131,3,102,1],[132,2,104,7],[132,8,104,13,"stopStream"],[132,18,104,23],[132,21,104,26],[132,27,104,26,"stopStream"],[132,28,104,26],[132,33,104,38],[133,4,105,2],[133,10,105,8,"TrackPlayer"],[133,21,105,19],[133,22,105,19,"default"],[133,29,105,19],[133,30,105,20,"stop"],[133,34,105,24],[133,35,105,25],[133,36,105,26],[134,4,106,2],[134,10,106,8,"TrackPlayer"],[134,21,106,19],[134,22,106,19,"default"],[134,29,106,19],[134,30,106,20,"reset"],[134,35,106,25],[134,36,106,26],[134,37,106,27],[135,2,107,0],[135,3,107,1],[136,2,109,7],[136,8,109,13,"isPlaying"],[136,17,109,22],[136,20,109,25],[136,26,109,25,"isPlaying"],[136,27,109,25],[136,32,109,55],[137,4,110,2],[137,8,110,6],[138,6,111,4],[138,12,111,10,"state"],[138,17,111,15],[138,20,111,18],[138,26,111,24,"TrackPlayer"],[138,37,111,35],[138,38,111,35,"default"],[138,45,111,35],[138,46,111,36,"getPlaybackState"],[138,62,111,52],[138,63,111,53],[138,64,111,54],[139,6,112,4],[139,13,112,11,"state"],[139,18,112,16],[139,19,112,17,"state"],[139,24,112,22],[139,29,112,27],[139,38,112,36],[140,4,113,2],[140,5,113,3],[140,6,113,4],[140,12,113,10],[141,6,114,4],[141,13,114,11],[141,18,114,16],[142,4,115,2],[143,2,116,0],[143,3,116,1],[144,0,116,2],[144,3]],"functionMap":{"names":["<global>","setupPlayer","addStreamTrack","updateNowPlaying","playStream","pauseStream","stopStream","isPlaying"],"mappings":"AAA;2BCQ;CDoD;8BEE;CFgB;gCGE;CHa;0BIE;CJE;2BKE;CLE;0BME;CNG;yBOE;CPO"},"hasCjsExports":false},"type":"js/module"}]}