{"dependencies":[{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"getRecentlyPlayed\", {\n    enumerable: true,\n    get: function () {\n      return getRecentlyPlayed;\n    }\n  });\n  Object.defineProperty(exports, \"formatPlayedTime\", {\n    enumerable: true,\n    get: function () {\n      return formatPlayedTime;\n    }\n  });\n  var _axios = require(_dependencyMap[0], \"axios\");\n  var axios = _interopDefault(_axios);\n  const BACKEND_URL = process.env.EXPO_PUBLIC_BACKEND_URL || '';\n  /**\n   * Fetch recently played tracks from the TruckSimFM playlist\n   */\n  const getRecentlyPlayed = async (limit = 5) => {\n    try {\n      console.log('[RecentlyPlayedService] Fetching recently played tracks');\n      const response = await axios.default.get(`${BACKEND_URL}/api/recently-played`, {\n        params: {\n          limit\n        },\n        timeout: 10000\n      });\n      if (response.data && response.data.success && Array.isArray(response.data.data)) {\n        console.log(`[RecentlyPlayedService] Fetched ${response.data.data.length} tracks`);\n        return response.data.data;\n      }\n      console.log('[RecentlyPlayedService] Invalid response, returning empty array');\n      return [];\n    } catch (error) {\n      console.error('[RecentlyPlayedService] Error fetching recently played:', error);\n      return [];\n    }\n  };\n\n  /**\n   * Format the played time as a relative string (e.g., \"2 min ago\")\n   */\n  const formatPlayedTime = isoTime => {\n    const played = new Date(isoTime);\n    const now = new Date();\n    const diffMs = now.getTime() - played.getTime();\n    const diffMins = Math.floor(diffMs / 60000);\n    if (diffMins < 1) return 'Just now';\n    if (diffMins === 1) return '1 min ago';\n    if (diffMins < 60) return `${diffMins} min ago`;\n    const diffHours = Math.floor(diffMins / 60);\n    if (diffHours === 1) return '1 hour ago';\n    if (diffHours < 24) return `${diffHours} hours ago`;\n    const diffDays = Math.floor(diffHours / 24);\n    if (diffDays === 1) return '1 day ago';\n    return `${diffDays} days ago`;\n  };\n});","lineCount":69,"map":[[12,2,16,0,"Object"],[12,8,16,0],[12,9,16,0,"defineProperty"],[12,23,16,0],[12,24,16,0,"exports"],[12,31,16,0],[13,4,16,0,"enumerable"],[13,14,16,0],[14,4,16,0,"get"],[14,7,16,0],[14,18,16,0,"get"],[14,19,16,0],[15,6,16,0],[15,13,16,0,"getRecentlyPlayed"],[15,30,16,0],[16,4,16,0],[17,2,16,0],[18,2,42,0,"Object"],[18,8,42,0],[18,9,42,0,"defineProperty"],[18,23,42,0],[18,24,42,0,"exports"],[18,31,42,0],[19,4,42,0,"enumerable"],[19,14,42,0],[20,4,42,0,"get"],[20,7,42,0],[20,18,42,0,"get"],[20,19,42,0],[21,6,42,0],[21,13,42,0,"formatPlayedTime"],[21,29,42,0],[22,4,42,0],[23,2,42,0],[24,2,1,0],[24,6,1,0,"_axios"],[24,12,1,0],[24,15,1,0,"require"],[24,22,1,0],[24,23,1,0,"_dependencyMap"],[24,37,1,0],[25,2,1,0],[25,6,1,0,"axios"],[25,11,1,0],[25,14,1,0,"_interopDefault"],[25,29,1,0],[25,30,1,0,"_axios"],[25,36,1,0],[26,2,3,0],[26,8,3,6,"BACKEND_URL"],[26,19,3,17],[26,22,3,20,"process"],[26,29,3,27],[26,30,3,28,"env"],[26,33,3,31],[26,34,3,32,"EXPO_PUBLIC_BACKEND_URL"],[26,57,3,55],[26,61,3,59],[26,63,3,61],[27,2,13,0],[28,0,14,0],[29,0,15,0],[30,2,16,7],[30,8,16,13,"getRecentlyPlayed"],[30,25,16,30],[30,28,16,33],[30,34,16,33,"getRecentlyPlayed"],[30,35,16,40,"limit"],[30,40,16,53],[30,43,16,56],[30,44,16,57],[30,49,16,94],[31,4,17,2],[31,8,17,6],[32,6,18,4,"console"],[32,13,18,11],[32,14,18,12,"log"],[32,17,18,15],[32,18,18,16],[32,75,18,73],[32,76,18,74],[33,6,20,4],[33,12,20,10,"response"],[33,20,20,18],[33,23,20,21],[33,29,20,27,"axios"],[33,34,20,32],[33,35,20,32,"default"],[33,42,20,32],[33,43,20,33,"get"],[33,46,20,36],[33,47,20,37],[33,50,20,40,"BACKEND_URL"],[33,61,20,51],[33,83,20,73],[33,85,20,75],[34,8,21,6,"params"],[34,14,21,12],[34,16,21,14],[35,10,21,16,"limit"],[36,8,21,22],[36,9,21,23],[37,8,22,6,"timeout"],[37,15,22,13],[37,17,22,15],[38,6,23,4],[38,7,23,5],[38,8,23,6],[39,6,25,4],[39,10,25,8,"response"],[39,18,25,16],[39,19,25,17,"data"],[39,23,25,21],[39,27,25,25,"response"],[39,35,25,33],[39,36,25,34,"data"],[39,40,25,38],[39,41,25,39,"success"],[39,48,25,46],[39,52,25,50,"Array"],[39,57,25,55],[39,58,25,56,"isArray"],[39,65,25,63],[39,66,25,64,"response"],[39,74,25,72],[39,75,25,73,"data"],[39,79,25,77],[39,80,25,78,"data"],[39,84,25,82],[39,85,25,83],[39,87,25,85],[40,8,26,6,"console"],[40,15,26,13],[40,16,26,14,"log"],[40,19,26,17],[40,20,26,18],[40,55,26,53,"response"],[40,63,26,61],[40,64,26,62,"data"],[40,68,26,66],[40,69,26,67,"data"],[40,73,26,71],[40,74,26,72,"length"],[40,80,26,78],[40,89,26,87],[40,90,26,88],[41,8,27,6],[41,15,27,13,"response"],[41,23,27,21],[41,24,27,22,"data"],[41,28,27,26],[41,29,27,27,"data"],[41,33,27,31],[42,6,28,4],[43,6,30,4,"console"],[43,13,30,11],[43,14,30,12,"log"],[43,17,30,15],[43,18,30,16],[43,83,30,81],[43,84,30,82],[44,6,31,4],[44,13,31,11],[44,15,31,13],[45,4,33,2],[45,5,33,3],[45,6,33,4],[45,13,33,11,"error"],[45,18,33,16],[45,20,33,18],[46,6,34,4,"console"],[46,13,34,11],[46,14,34,12,"error"],[46,19,34,17],[46,20,34,18],[46,77,34,75],[46,79,34,77,"error"],[46,84,34,82],[46,85,34,83],[47,6,35,4],[47,13,35,11],[47,15,35,13],[48,4,36,2],[49,2,37,0],[49,3,37,1],[51,2,39,0],[52,0,40,0],[53,0,41,0],[54,2,42,7],[54,8,42,13,"formatPlayedTime"],[54,24,42,29],[54,27,42,33,"isoTime"],[54,34,42,48],[54,38,42,61],[55,4,43,2],[55,10,43,8,"played"],[55,16,43,14],[55,19,43,17],[55,23,43,21,"Date"],[55,27,43,25],[55,28,43,26,"isoTime"],[55,35,43,33],[55,36,43,34],[56,4,44,2],[56,10,44,8,"now"],[56,13,44,11],[56,16,44,14],[56,20,44,18,"Date"],[56,24,44,22],[56,25,44,23],[56,26,44,24],[57,4,45,2],[57,10,45,8,"diffMs"],[57,16,45,14],[57,19,45,17,"now"],[57,22,45,20],[57,23,45,21,"getTime"],[57,30,45,28],[57,31,45,29],[57,32,45,30],[57,35,45,33,"played"],[57,41,45,39],[57,42,45,40,"getTime"],[57,49,45,47],[57,50,45,48],[57,51,45,49],[58,4,46,2],[58,10,46,8,"diffMins"],[58,18,46,16],[58,21,46,19,"Math"],[58,25,46,23],[58,26,46,24,"floor"],[58,31,46,29],[58,32,46,30,"diffMs"],[58,38,46,36],[58,41,46,39],[58,46,46,44],[58,47,46,45],[59,4,48,2],[59,8,48,6,"diffMins"],[59,16,48,14],[59,19,48,17],[59,20,48,18],[59,22,48,20],[59,29,48,27],[59,39,48,37],[60,4,49,2],[60,8,49,6,"diffMins"],[60,16,49,14],[60,21,49,19],[60,22,49,20],[60,24,49,22],[60,31,49,29],[60,42,49,40],[61,4,50,2],[61,8,50,6,"diffMins"],[61,16,50,14],[61,19,50,17],[61,21,50,19],[61,23,50,21],[61,30,50,28],[61,33,50,31,"diffMins"],[61,41,50,39],[61,51,50,49],[62,4,52,2],[62,10,52,8,"diffHours"],[62,19,52,17],[62,22,52,20,"Math"],[62,26,52,24],[62,27,52,25,"floor"],[62,32,52,30],[62,33,52,31,"diffMins"],[62,41,52,39],[62,44,52,42],[62,46,52,44],[62,47,52,45],[63,4,53,2],[63,8,53,6,"diffHours"],[63,17,53,15],[63,22,53,20],[63,23,53,21],[63,25,53,23],[63,32,53,30],[63,44,53,42],[64,4,54,2],[64,8,54,6,"diffHours"],[64,17,54,15],[64,20,54,18],[64,22,54,20],[64,24,54,22],[64,31,54,29],[64,34,54,32,"diffHours"],[64,43,54,41],[64,55,54,53],[65,4,56,2],[65,10,56,8,"diffDays"],[65,18,56,16],[65,21,56,19,"Math"],[65,25,56,23],[65,26,56,24,"floor"],[65,31,56,29],[65,32,56,30,"diffHours"],[65,41,56,39],[65,44,56,42],[65,46,56,44],[65,47,56,45],[66,4,57,2],[66,8,57,6,"diffDays"],[66,16,57,14],[66,21,57,19],[66,22,57,20],[66,24,57,22],[66,31,57,29],[66,42,57,40],[67,4,58,2],[67,11,58,9],[67,14,58,12,"diffDays"],[67,22,58,20],[67,33,58,31],[68,2,59,0],[68,3,59,1],[69,0,59,2],[69,3]],"functionMap":{"names":["<global>","getRecentlyPlayed","formatPlayedTime"],"mappings":"AAA;iCCe;CDqB;gCEK;CFiB"},"hasCjsExports":false},"type":"js/module"}]}