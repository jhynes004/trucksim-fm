{"dependencies":[{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"getCurrentSong\", {\n    enumerable: true,\n    get: function () {\n      return getCurrentSong;\n    }\n  });\n  var _axios = require(_dependencyMap[0], \"axios\");\n  var axios = _interopDefault(_axios);\n  const RADIO_BASE_URL = 'https://radio.trucksim.fm:8000';\n  /**\n   * Fetch the current playing song from TruckSimFM\n   */\n  const getCurrentSong = async () => {\n    try {\n      const response = await axios.default.get(`${RADIO_BASE_URL}/currentsong?sid=1`, {\n        timeout: 5000\n      });\n\n      // The response might be in different formats, let's handle text\n      const data = response.data;\n      console.log('Current song raw data:', data);\n\n      // If it's a string, try to parse it\n      if (typeof data === 'string') {\n        // Common format: \"Artist - Title\"\n        const parts = data.split(' - ');\n        if (parts.length >= 2) {\n          return {\n            artist: parts[0].trim(),\n            title: parts.slice(1).join(' - ').trim(),\n            rawData: data\n          };\n        }\n        return {\n          title: data,\n          rawData: data\n        };\n      }\n\n      // If it's already an object\n      return {\n        title: data.title || data.song || '',\n        artist: data.artist || '',\n        album: data.album || '',\n        rawData: JSON.stringify(data)\n      };\n    } catch (error) {\n      console.error('Failed to fetch current song:', error);\n      return {\n        title: 'TruckSimFM',\n        artist: 'Live Radio'\n      };\n    }\n  };\n});","lineCount":66,"map":[[12,2,15,0,"Object"],[12,8,15,0],[12,9,15,0,"defineProperty"],[12,23,15,0],[12,24,15,0,"exports"],[12,31,15,0],[13,4,15,0,"enumerable"],[13,14,15,0],[14,4,15,0,"get"],[14,7,15,0],[14,18,15,0,"get"],[14,19,15,0],[15,6,15,0],[15,13,15,0,"getCurrentSong"],[15,27,15,0],[16,4,15,0],[17,2,15,0],[18,2,1,0],[18,6,1,0,"_axios"],[18,12,1,0],[18,15,1,0,"require"],[18,22,1,0],[18,23,1,0,"_dependencyMap"],[18,37,1,0],[19,2,1,0],[19,6,1,0,"axios"],[19,11,1,0],[19,14,1,0,"_interopDefault"],[19,29,1,0],[19,30,1,0,"_axios"],[19,36,1,0],[20,2,3,0],[20,8,3,6,"RADIO_BASE_URL"],[20,22,3,20],[20,25,3,23],[20,57,3,55],[21,2,12,0],[22,0,13,0],[23,0,14,0],[24,2,15,7],[24,8,15,13,"getCurrentSong"],[24,22,15,27],[24,25,15,30],[24,31,15,30,"getCurrentSong"],[24,32,15,30],[24,37,15,64],[25,4,16,2],[25,8,16,6],[26,6,17,4],[26,12,17,10,"response"],[26,20,17,18],[26,23,17,21],[26,29,17,27,"axios"],[26,34,17,32],[26,35,17,32,"default"],[26,42,17,32],[26,43,17,33,"get"],[26,46,17,36],[26,47,17,37],[26,50,17,40,"RADIO_BASE_URL"],[26,64,17,54],[26,84,17,74],[26,86,17,76],[27,8,18,6,"timeout"],[27,15,18,13],[27,17,18,15],[28,6,19,4],[28,7,19,5],[28,8,19,6],[30,6,21,4],[31,6,22,4],[31,12,22,10,"data"],[31,16,22,14],[31,19,22,17,"response"],[31,27,22,25],[31,28,22,26,"data"],[31,32,22,30],[32,6,23,4,"console"],[32,13,23,11],[32,14,23,12,"log"],[32,17,23,15],[32,18,23,16],[32,42,23,40],[32,44,23,42,"data"],[32,48,23,46],[32,49,23,47],[34,6,25,4],[35,6,26,4],[35,10,26,8],[35,17,26,15,"data"],[35,21,26,19],[35,26,26,24],[35,34,26,32],[35,36,26,34],[36,8,27,6],[37,8,28,6],[37,14,28,12,"parts"],[37,19,28,17],[37,22,28,20,"data"],[37,26,28,24],[37,27,28,25,"split"],[37,32,28,30],[37,33,28,31],[37,38,28,36],[37,39,28,37],[38,8,29,6],[38,12,29,10,"parts"],[38,17,29,15],[38,18,29,16,"length"],[38,24,29,22],[38,28,29,26],[38,29,29,27],[38,31,29,29],[39,10,30,8],[39,17,30,15],[40,12,31,10,"artist"],[40,18,31,16],[40,20,31,18,"parts"],[40,25,31,23],[40,26,31,24],[40,27,31,25],[40,28,31,26],[40,29,31,27,"trim"],[40,33,31,31],[40,34,31,32],[40,35,31,33],[41,12,32,10,"title"],[41,17,32,15],[41,19,32,17,"parts"],[41,24,32,22],[41,25,32,23,"slice"],[41,30,32,28],[41,31,32,29],[41,32,32,30],[41,33,32,31],[41,34,32,32,"join"],[41,38,32,36],[41,39,32,37],[41,44,32,42],[41,45,32,43],[41,46,32,44,"trim"],[41,50,32,48],[41,51,32,49],[41,52,32,50],[42,12,33,10,"rawData"],[42,19,33,17],[42,21,33,19,"data"],[43,10,34,8],[43,11,34,9],[44,8,35,6],[45,8,36,6],[45,15,36,13],[46,10,37,8,"title"],[46,15,37,13],[46,17,37,15,"data"],[46,21,37,19],[47,10,38,8,"rawData"],[47,17,38,15],[47,19,38,17,"data"],[48,8,39,6],[48,9,39,7],[49,6,40,4],[51,6,42,4],[52,6,43,4],[52,13,43,11],[53,8,44,6,"title"],[53,13,44,11],[53,15,44,13,"data"],[53,19,44,17],[53,20,44,18,"title"],[53,25,44,23],[53,29,44,27,"data"],[53,33,44,31],[53,34,44,32,"song"],[53,38,44,36],[53,42,44,40],[53,44,44,42],[54,8,45,6,"artist"],[54,14,45,12],[54,16,45,14,"data"],[54,20,45,18],[54,21,45,19,"artist"],[54,27,45,25],[54,31,45,29],[54,33,45,31],[55,8,46,6,"album"],[55,13,46,11],[55,15,46,13,"data"],[55,19,46,17],[55,20,46,18,"album"],[55,25,46,23],[55,29,46,27],[55,31,46,29],[56,8,47,6,"rawData"],[56,15,47,13],[56,17,47,15,"JSON"],[56,21,47,19],[56,22,47,20,"stringify"],[56,31,47,29],[56,32,47,30,"data"],[56,36,47,34],[57,6,48,4],[57,7,48,5],[58,4,49,2],[58,5,49,3],[58,6,49,4],[58,13,49,11,"error"],[58,18,49,16],[58,20,49,18],[59,6,50,4,"console"],[59,13,50,11],[59,14,50,12,"error"],[59,19,50,17],[59,20,50,18],[59,51,50,49],[59,53,50,51,"error"],[59,58,50,56],[59,59,50,57],[60,6,51,4],[60,13,51,11],[61,8,52,6,"title"],[61,13,52,11],[61,15,52,13],[61,27,52,25],[62,8,53,6,"artist"],[62,14,53,12],[62,16,53,14],[63,6,54,4],[63,7,54,5],[64,4,55,2],[65,2,56,0],[65,3,56,1],[66,0,56,2],[66,3]],"functionMap":{"names":["<global>","getCurrentSong"],"mappings":"AAA;8BCc;CDyC"},"hasCjsExports":false},"type":"js/module"}]}